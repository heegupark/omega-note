{"ast":null,"code":"var _jsxFileName = \"/Users/heegupark/Desktop/Workspace/MyProject/omega-note/components/editor.tsx\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport { HiDotsHorizontal } from 'react-icons/hi';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nconst useStyles = makeStyles(theme => createStyles({\n  title: {\n    outline: 'none',\n    width: '95%',\n    paddingLeft: '15px',\n    margin: '0px',\n    border: 'none',\n    backgroundColor: 'rgb(248,248,248)',\n    fontSize: '24px'\n  },\n  editor: {\n    width: '100%',\n    minWidth: '400px',\n    wordBreak: 'break-word',\n    paddingBottom: '10px',\n    '&:hover': {\n      backgroundColor: 'white'\n    }\n  },\n  editorInTrash: {\n    width: '100%',\n    minWidth: '600px',\n    wordBreak: 'break-word',\n    padding: '15px'\n  },\n  dot: {\n    position: 'absolute',\n    float: 'right',\n    right: '20px',\n    cursor: 'pointer',\n    marginTop: '10px'\n  },\n  box: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    width: '100%'\n  },\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  paper: {\n    backgroundColor: 'rgb(222, 222, 222)',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(1, 2, 2),\n    textAlign: 'center',\n    width: '350px',\n    borderRadius: '5px',\n    fontSize: '12px',\n    outline: 'none'\n  },\n  button: {\n    height: '30px',\n    margin: '10px 15px'\n  }\n}));\nconst theme = 'snow';\nconst placeholder = `What's in your mind?`;\nconst modules = {\n  toolbar: [[{\n    header: '1'\n  }, {\n    header: '2'\n  }, {\n    font: []\n  }, {\n    color: []\n  }], [{\n    size: []\n  }], ['bold', 'italic', 'underline', 'strike', 'blockquote'], [{\n    list: 'ordered'\n  }, {\n    list: 'bullet'\n  }, {\n    indent: '-1'\n  }, {\n    indent: '+1'\n  }], ['link', 'image', 'video'], ['clean']],\n  clipboard: {\n    matchVisual: false\n  }\n};\nconst formats = ['header', 'font', 'color', 'size', 'bold', 'italic', 'underline', 'strike', 'blockquote', 'list', 'bullet', 'indent', 'link', 'image' // 'video',\n];\nexport default function Editor(props) {\n  const {\n    0: isOpen,\n    1: setOpen\n  } = useState(false);\n  const ReactQuill = false ? require('react-quill') : () => false;\n  const classes = useStyles();\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: isDeleted,\n    1: setIsDeleted\n  } = useState(false);\n  const {\n    0: contents,\n    1: setContents\n  } = useState('');\n  const {\n    0: lastNotebook,\n    1: setLastNotebook\n  } = useState('');\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [modalOpen, setModalOpen] = React.useState(false);\n\n  const handleModalOpen = () => {\n    handlePopoverClose();\n    setModalOpen(true);\n  };\n\n  const handleModalClose = () => {\n    setModalOpen(false);\n  };\n\n  const handlePopoverOpen = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handlePopoverClose = () => {\n    setAnchorEl(null);\n  };\n\n  useEffect(() => {\n    setOpen(true);\n  }, []);\n\n  const handleChange = html => {\n    setContents(html);\n    const newNote = {\n      noteTitle: undefined,\n      note: html\n    };\n    props.updateNote(props.notebooks[props.notebook].id, props.currentNoteId, newNote);\n  };\n\n  const getNote = (notebookId, noteId) => {\n    const newContents = props.notebooks[notebookId].notes.filter(note => note.id === noteId);\n\n    if (newContents.length) {\n      setTitle(newContents[0].noteTitle);\n      setContents(newContents[0].note);\n      setIsDeleted(newContents[0].isDeleted);\n      setLastNotebook(newContents[0].lastNotebook);\n    }\n  };\n\n  useEffect(() => {\n    getNote(props.notebook, props.currentNoteId);\n  }, [props.notebook, props.currentNoteId]);\n\n  const handleTitleChange = e => {\n    setTitle(e.target.value);\n    const newNote = {\n      noteTitle: e.target.value,\n      note: undefined\n    };\n    props.updateNote(props.notebooks[props.notebook].id, props.currentNoteId, newNote);\n  };\n\n  const handleMoveToTrash = () => {\n    props.moveNote(props.notebook, 'trash', props.currentNoteId);\n    handlePopoverClose();\n  };\n\n  const handleRestore = () => {\n    props.moveNote('trash', lastNotebook, props.currentNoteId);\n    handlePopoverClose();\n  };\n\n  const handleDelete = () => {\n    props.deleteNote('trash', props.currentNoteId);\n    handlePopoverClose();\n    handleModalClose();\n  };\n\n  return __jsx(React.Fragment, null, isDeleted ? __jsx(\"div\", {\n    className: classes.box,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: classes.title,\n    onClick: () => props.handleSnackbar('You can not update a note title in the Trash', 'error'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, title), __jsx(Menu, {\n    id: \"dot-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handlePopoverClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, __jsx(MenuItem, {\n    onClick: handleRestore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, \"Restore\"), __jsx(MenuItem, {\n    onClick: handleModalOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, \"Delete\")), __jsx(\"span\", {\n    className: classes.dot,\n    onClick: handlePopoverOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, __jsx(HiDotsHorizontal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  })), __jsx(\"div\", {\n    className: classes.editorInTrash,\n    dangerouslySetInnerHTML: {\n      __html: contents\n    },\n    onClick: () => props.handleSnackbar('You can not update a note in the Trash', 'error'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }), __jsx(Modal, {\n    open: modalOpen,\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    className: classes.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    id: \"simple-modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }, \"Are you really want to delete?\"), __jsx(\"p\", {\n    id: \"simple-modal-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 15\n    }\n  }, \"You will permanently delete this note.\"), __jsx(Button, {\n    className: classes.button,\n    variant: \"outlined\",\n    color: \"secondary\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 15\n    }\n  }, \"Delete\"), __jsx(Button, {\n    className: classes.button,\n    variant: \"outlined\",\n    color: \"default\",\n    onClick: handleModalClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 15\n    }\n  }, \"Cancel\")))) : __jsx(React.Fragment, null, __jsx(\"input\", {\n    value: title,\n    className: classes.title,\n    onChange: e => handleTitleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 11\n    }\n  }), __jsx(Menu, {\n    id: \"dot-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handlePopoverClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 11\n    }\n  }, __jsx(MenuItem, {\n    onClick: handleMoveToTrash,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }\n  }, \"Move to trash\")), __jsx(\"span\", {\n    className: classes.dot,\n    onClick: handlePopoverOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }, __jsx(HiDotsHorizontal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }\n  })), !!ReactQuill && isOpen && __jsx(ReactQuill, {\n    theme: theme,\n    onChange: handleChange,\n    value: contents,\n    modules: modules,\n    formats: formats,\n    bounds: '.app',\n    placeholder: placeholder,\n    className: classes.editor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/heegupark/Desktop/Workspace/MyProject/omega-note/components/editor.tsx"],"names":["React","useEffect","useState","createStyles","makeStyles","HiDotsHorizontal","Menu","MenuItem","Modal","Button","useStyles","theme","title","outline","width","paddingLeft","margin","border","backgroundColor","fontSize","editor","minWidth","wordBreak","paddingBottom","editorInTrash","padding","dot","position","float","right","cursor","marginTop","box","display","justifyContent","modal","alignItems","paper","boxShadow","shadows","spacing","textAlign","borderRadius","button","height","placeholder","modules","toolbar","header","font","color","size","list","indent","clipboard","matchVisual","formats","Editor","props","isOpen","setOpen","ReactQuill","require","classes","setTitle","isDeleted","setIsDeleted","contents","setContents","lastNotebook","setLastNotebook","anchorEl","setAnchorEl","modalOpen","setModalOpen","handleModalOpen","handlePopoverClose","handleModalClose","handlePopoverOpen","event","currentTarget","handleChange","html","newNote","noteTitle","undefined","note","updateNote","notebooks","notebook","id","currentNoteId","getNote","notebookId","noteId","newContents","notes","filter","length","handleTitleChange","e","target","value","handleMoveToTrash","moveNote","handleRestore","handleDelete","deleteNote","handleSnackbar","Boolean","__html"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport { HiDotsHorizontal } from 'react-icons/hi';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Modal from '@material-ui/core/Modal';\nimport Button from '@material-ui/core/Button';\nimport INote from './interfaces/inote';\nimport INoteProps from './interfaces/inoteprops';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    title: {\n      outline: 'none',\n      width: '95%',\n      paddingLeft: '15px',\n      margin: '0px',\n      border: 'none',\n      backgroundColor: 'rgb(248,248,248)',\n      fontSize: '24px',\n    },\n    editor: {\n      width: '100%',\n      minWidth: '400px',\n      wordBreak: 'break-word',\n      paddingBottom: '10px',\n      '&:hover': {\n        backgroundColor: 'white',\n      },\n    },\n    editorInTrash: {\n      width: '100%',\n      minWidth: '600px',\n      wordBreak: 'break-word',\n      padding: '15px',\n    },\n    dot: {\n      position: 'absolute',\n      float: 'right',\n      right: '20px',\n      cursor: 'pointer',\n      marginTop: '10px',\n    },\n    box: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      width: '100%',\n    },\n    modal: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    paper: {\n      backgroundColor: 'rgb(222, 222, 222)',\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(1, 2, 2),\n      textAlign: 'center',\n      width: '350px',\n      borderRadius: '5px',\n      fontSize: '12px',\n      outline: 'none',\n    },\n    button: {\n      height: '30px',\n      margin: '10px 15px',\n    },\n  })\n);\n\nconst theme = 'snow';\nconst placeholder = `What's in your mind?`;\nconst modules = {\n  toolbar: [\n    [{ header: '1' }, { header: '2' }, { font: [] }, { color: [] }],\n    [{ size: [] }],\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\n    [\n      { list: 'ordered' },\n      { list: 'bullet' },\n      { indent: '-1' },\n      { indent: '+1' },\n    ],\n    ['link', 'image', 'video'],\n    ['clean'],\n  ],\n  clipboard: {\n    matchVisual: false,\n  },\n};\nconst formats = [\n  'header',\n  'font',\n  'color',\n  'size',\n  'bold',\n  'italic',\n  'underline',\n  'strike',\n  'blockquote',\n  'list',\n  'bullet',\n  'indent',\n  'link',\n  'image',\n  // 'video',\n];\n\nexport default function Editor(props: INoteProps) {\n  const [isOpen, setOpen] = useState(false);\n  const ReactQuill =\n    typeof window === 'object' ? require('react-quill') : () => false;\n  const classes = useStyles();\n  const [title, setTitle] = useState<string>('');\n  const [isDeleted, setIsDeleted] = useState<boolean>(false);\n  const [contents, setContents] = useState<string>('');\n  const [lastNotebook, setLastNotebook] = useState<string>('');\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n  const [modalOpen, setModalOpen] = React.useState(false);\n\n  const handleModalOpen = () => {\n    handlePopoverClose();\n    setModalOpen(true);\n  };\n\n  const handleModalClose = () => {\n    setModalOpen(false);\n  };\n\n  const handlePopoverOpen = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handlePopoverClose = () => {\n    setAnchorEl(null);\n  };\n\n  useEffect(() => {\n    setOpen(true);\n  }, []);\n\n  const handleChange = (html: string) => {\n    setContents(html);\n    const newNote = {\n      noteTitle: undefined,\n      note: html,\n    };\n    props.updateNote(\n      props.notebooks[props.notebook].id,\n      props.currentNoteId,\n      newNote\n    );\n  };\n\n  const getNote = (notebookId: string, noteId: string | undefined) => {\n    const newContents = props.notebooks[notebookId].notes.filter(\n      (note: INote) => note.id === noteId\n    );\n    if (newContents.length) {\n      setTitle(newContents[0].noteTitle);\n      setContents(newContents[0].note);\n      setIsDeleted(newContents[0].isDeleted);\n      setLastNotebook(newContents[0].lastNotebook);\n    }\n  };\n\n  useEffect(() => {\n    getNote(props.notebook, props.currentNoteId);\n  }, [props.notebook, props.currentNoteId]);\n\n  const handleTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setTitle(e.target.value);\n    const newNote = {\n      noteTitle: e.target.value,\n      note: undefined,\n    };\n    props.updateNote(\n      props.notebooks[props.notebook].id,\n      props.currentNoteId,\n      newNote\n    );\n  };\n\n  const handleMoveToTrash = () => {\n    props.moveNote(props.notebook, 'trash', props.currentNoteId);\n    handlePopoverClose();\n  };\n\n  const handleRestore = () => {\n    props.moveNote('trash', lastNotebook, props.currentNoteId);\n    handlePopoverClose();\n  };\n\n  const handleDelete = () => {\n    props.deleteNote('trash', props.currentNoteId);\n    handlePopoverClose();\n    handleModalClose();\n  };\n\n  return (\n    <>\n      {isDeleted ? (\n        <div className={classes.box}>\n          <span\n            className={classes.title}\n            onClick={() =>\n              props.handleSnackbar(\n                'You can not update a note title in the Trash',\n                'error'\n              )\n            }\n          >\n            {title}\n          </span>\n          <Menu\n            id=\"dot-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handlePopoverClose}\n          >\n            <MenuItem onClick={handleRestore}>Restore</MenuItem>\n            <MenuItem onClick={handleModalOpen}>Delete</MenuItem>\n          </Menu>\n          <span className={classes.dot} onClick={handlePopoverOpen}>\n            <HiDotsHorizontal />\n          </span>\n          <div\n            className={classes.editorInTrash}\n            dangerouslySetInnerHTML={{ __html: contents }}\n            onClick={() =>\n              props.handleSnackbar(\n                'You can not update a note in the Trash',\n                'error'\n              )\n            }\n          />\n          <Modal\n            open={modalOpen}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n            className={classes.modal}\n          >\n            <div className={classes.paper}>\n              <h2 id=\"simple-modal-title\">Are you really want to delete?</h2>\n              <p id=\"simple-modal-description\">\n                You will permanently delete this note.\n              </p>\n              <Button\n                className={classes.button}\n                variant=\"outlined\"\n                color=\"secondary\"\n                onClick={handleDelete}\n              >\n                Delete\n              </Button>\n              <Button\n                className={classes.button}\n                variant=\"outlined\"\n                color=\"default\"\n                onClick={handleModalClose}\n              >\n                Cancel\n              </Button>\n            </div>\n          </Modal>\n        </div>\n      ) : (\n        <>\n          <input\n            value={title}\n            className={classes.title}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n              handleTitleChange(e)\n            }\n          />\n          <Menu\n            id=\"dot-menu\"\n            anchorEl={anchorEl}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handlePopoverClose}\n          >\n            <MenuItem onClick={handleMoveToTrash}>Move to trash</MenuItem>\n          </Menu>\n          <span className={classes.dot} onClick={handlePopoverOpen}>\n            <HiDotsHorizontal />\n          </span>\n          {!!ReactQuill && isOpen && (\n            <ReactQuill\n              theme={theme}\n              onChange={handleChange}\n              value={contents}\n              modules={modules}\n              formats={formats}\n              bounds={'.app'}\n              placeholder={placeholder}\n              className={classes.editor}\n            />\n          )}\n        </>\n      )}\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}